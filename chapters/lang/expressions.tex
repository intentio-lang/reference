\chapter{Expressions}

This chapter describes syntax and semantics of Intentio \emph{expressions}. Intentio is an expression language. This means that all forms of result-producing or effect-causing evaluation fall into uniform syntax category of expressions. Usually each kind of expression can nest within each other kind of expression, and rules for evaluation of expressions involve specifying both the result produced by the expression and the order in which its sub-expressions are themselves evaluated.

Intentio does not have a concept of \emph{statement} known from other programming languages.

\begin{bnf}
  \gd{expr} \eq    \term{\gp{qid}}                     \gcomm{variable or item}
            \gorln \term{\gp{literal}}
            \gorln blockexpr                           \gcomm{block expression}
            \gorln unopexpr                            \gcomm{unary operator expression}
            \gorln binopexpr                           \gcomm{binary operator expression}
            \gorln \term{(} \ \gp{expr} \ \term{)}     \gcomm{parenthesized expression}
            \gorln callexpr                            \gcomm{function call}
            \gorln loopexpr                            \gcomm{loops}
            \gorln ifexpr                              \gcomm{conditionals}
            \gorln returnexpr                          \gcomm{return expression}
\end{bnf}

An \emph{expression}\index{expression} is an syntactic construct that \emph{evaluates} to a term. It may either \emph{succeed} or \emph{fail} resulting in a result. During the evaluation, expression may perform \emph{side effects}, for example it can mutate some state or perform execution jump. The meaning of each kind of expression dictates several things:

\begin{itemize}
  \item Whether or not to evaluate the sub-expressions when evaluating the expression
  \item The order in which to evaluate the sub-expressions
  \item How to combine the sub-expressions' results to obtain the result of the expression
\end{itemize}
